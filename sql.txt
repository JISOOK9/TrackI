ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '1q2w3e!@';
UPDATE mysql.user
    set authentication_string=PASSWORD("MyNewPass"),
    password_expired='N',
    plugin='mysql_native_password'
where User='root';

CREATE TABLE IF NOT EXISTS `mydb`.`usertable` (
  `uidx` INT NOT NULL AUTO_INCREMENT,
  `uid` VARCHAR(20) NOT NULL,
  `pw` VARCHAR(20) NOT NULL,
  `nick` VARCHAR(45) NULL,
  `bdate` DATE NULL,
  `gender` CHAR(1) NULL,
  PRIMARY KEY (`uidx`),
  UNIQUE INDEX `userid_UNIQUE` (`uidx` ASC) VISIBLE,
  UNIQUE INDEX `uid_UNIQUE` (`uid` ASC) VISIBLE)
ENGINE = InnoDB

CREATE TABLE IF NOT EXISTS `MYDB`.`usertable` (
  `uid` VARCHAR(20) NOT NULL,
  `pw` VARCHAR(20) NOT NULL,
  `email` VARCHAR(50),
  `nick` VARCHAR(20) NULL,
  `bdate` DATE NULL,
  `gender` CHAR(1) NULL,
  PRIMARY KEY (`uid`),
  UNIQUE INDEX `uid_UNIQUE` (`uid` ASC) VISIBLE)
ENGINE = InnoDB

CREATE TABLE factortable (
  `uid` VARCHAR(20) NOT NULL,
  `factor1` VARCHAR(20) NOT NULL,
  `factor2` VARCHAR(20) NOT NULL,
  `factor3` VARCHAR(20) NOT NULL,
  `factor4` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`uid`),
  FOREIGN KEY (`uid`) REFERENCES usertable(uid));
ENGINE = InnoDB

22:06:40	CREATE TABLE factortable (   `uid` VARCHAR(20) NOT NULL,   `factor1` VARCHAR(20) NOT NULL,   `factor2` VARCHAR(20) NOT NULL,   `factor3` VARCHAR(20) NOT NULL,   `factor4` VARCHAR(20) NOT NULL,   PRIMARY KEY (`uid`),   FOREIGN KEY (`uid`) REFERENCES usertable(uid))	0 row(s) affected	0.094 sec

CREATE TRIGGER factorInsertTrg AFTER INSERT ON usertable 
FOR EACH ROW 
INSERT INTO factortable SET uid=NEW.uid, factor1=NULL, factor2=NULL, factor3=NULL, factor4=NULL;
CREATE TRIGGER factorInsertTrg AFTER INSERT ON usertable 
FOR EACH ROW BEGIN 
INSERT INTO factortable SET uid=NEW.uid; END
if NEW.column1 <> OLD.column1 begin INSERT INTO factortable end END

ALTER TABLE factortable ALTER factor1 SET DEFAULT NULL;


CREATE TRIGGER factorInsertTrg AFTER INSERT ON usertable 
FOR EACH ROW 
INSERT INTO factortable SET uid=NEW.uid;


CREATE TABLE datatable (
	did VARCHAR(30) NOT NULL,
	uid VARCHAR(20) NOT NULL,
	ddate DATE NOT NULL,
	SCR_MOOD INT,
	SCR_F1 INT,
	SCR_F2 INT,
	SCR_F3 INT,
	SCR_F4 INT,
	MEMO VARCHAR(300)
);

